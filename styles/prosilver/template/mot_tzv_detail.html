{#
*
* @package MoT Tour Destinations Database
* ver 1.3.0
* @copyright (c) 2022 - 2025 Mike-on-Tour
* @license http://opensource.org/licenses/gpl-2.0.php GNU General Public License v2
*
#}

{% import '@mot_tzv/mot_tzv_macros.html' as forms %}

<ul class="topiclist forums" style="padding: 5px">
	<li>
		<div class="tourziel">
			{% if MOT_TZV_EDIT_TZ %}
				{% if not INCLUDED_MOT_TZV_JS %}
					{% INCLUDEJS '@mot_tzv/mot_tzv_add.js' %}
					{% INCLUDEJS './assets/javascript/editor.js' %}
					{% set INCLUDED_MOT_TZV_JS = true %}
				{% endif %}

				{% INCLUDE '@mot_tzv/mot_tzv_add_edit_form.html' %}

				<script>
					// Define necessary editor variables
					var form_name = 'mot_tzv_add_form';
					var text_name = 'mot_tzv_message';

					// Define own JS variables
					motTzv.jsMandatoryFiedsArr = {{ MOT_TZV_MANDATORY_ARR_JS }};
					motTzv.jsCoordMandatory = {{ MOT_TZV_COORD_MANDATORY }};
					motTzv.jsError = "{{ lang('MOT_TZV_ERROR')|e('js') }}";
					motTzv.jsErrorName = "{{ lang('MOT_TZV_ERROR_NAME')|e('js') }}";
					motTzv.jsErrorCountry = "{{ lang('MOT_TZV_ERROR_COUNTRY')|e('js') }}";
					motTzv.jsErrorRegion = "{{ lang('MOT_TZV_ERROR_REGION')|e('js') }}";
					motTzv.jsErrorCategory = "{{ lang('MOT_TZV_ERROR_CATEGORY')|e('js') }}";
					motTzv.jsErrorPostalcode = "{{ lang('MOT_TZV_ERROR_POSTALCODEZ')|e('js') }}";
					motTzv.jsErrorCity = "{{ lang('MOT_TZV_ERROR_CITY')|e('js') }}";
					motTzv.jsErrorStreet = "{{ lang('MOT_TZV_ERROR_STREET')|e('js') }}";
					motTzv.jsErrorTelephone = "{{ lang('MOT_TZV_ERROR_TELEPHONE')|e('js') }}";
					motTzv.jsErrorEmail = "{{ lang('MOT_TZV_ERROR_EMAIL')|e('js') }}";
					motTzv.jsErrorHomepage = "{{ lang('MOT_TZV_ERROR_HOMEPAGE')|e('js') }}";
					motTzv.jsErrorLat = "{{ lang('MOT_TZV_ERROR_LAT')|e('js') }}";
					motTzv.jsErrorLon = "{{ lang('MOT_TZV_ERROR_LON')|e('js') }}";
					motTzv.jsErrorWlan = "{{ lang('MOT_TZV_ERROR_WLAN')|e('js') }}";
					motTzv.jsErrorMessage = "{{ lang('MOT_TZV_ERROR_MESSAGE')|e('js') }}";
				</script>
			{% else %}

				<h2>{{ lang('MOT_TZV_TOURZIEL_DETAIL') }}</h2>
				<ul class="topiclist forums">
					<li class="row" style="padding: 0 1em;">
						<h2>{{ MOT_TZV_EVENT_NAME }}</h2>
						<div class="detail-box">
							<div class="detail-sub-box">
								{{ forms.detail_view(MOT_TZV_DEST_DETAIL) }}
							</div>

							<div class="button-sub-box">
								<ul class="post-buttons">
									{% if U_EDIT_LINK %}
										<li>
											<a href="{{ U_EDIT_LINK }}" title="{{ lang('EDIT_POST') }}" class="button button-icon-only">
												<i class="icon fa-pencil fa-fw" aria-hidden="true"></i><span class="sr-only">{{ lang('BUTTON_EDIT') }}</span>
											</a>
										</li>
									{% endif %}
									{% if U_DELETE_LINK %}
										<li>
											<a href="{{ U_DELETE_LINK }}" title="{{ lang('DELETE_POST') }}" class="button button-icon-only">
												<i class="icon fa-times fa-fw" aria-hidden="true"></i><span class="sr-only">{{ lang('BUTTON_DELETE') }}</span>
											</a>
										</li>
									{% endif %}
								</ul>
							</div>

							<div class="avatar-sub-box">
								<strong>{{ lang('MOT_TZV_NEW_AUTHOR') }}</strong>
								<br><br>
								{{ MOT_TZV_DEST_DETAIL.avatar }}
								<br><br>
								{{ MOT_TZV_DEST_DETAIL.username }}
							</div>
						</div>
					</li>
				</ul>

				{% if MOT_TZV_MAPS_ENABLE %}
					{% if MOT_TZV_KURVIGER_ENABLE %}
						{% INCLUDE '@mot_tzv/mot_tzv_maps_kurviger.html' %}
					{% endif %}
					{% if MOT_TZV_KOMOOT_ENABLE %}
						{% INCLUDE '@mot_tzv/mot_tzv_maps_komoot.html' %}
					{% endif %}
					{% if MOT_TZV_GOOGLEMAP_ENABLE %}
						{% INCLUDE '@mot_tzv/mot_tzv_maps_google.html' %}
					{% endif %}
					{% if MOT_TZV_OSMMAP_ENABLE %}
						{% INCLUDE '@mot_tzv/mot_tzv_maps_osm.html' %}
					{% endif %}
				{% endif %}
			{% endif %}
		</div>
	</li>
</ul>
